[gd_scene load_steps=23 format=2]

[ext_resource path="res://addons/misc_utils/actions/composites/Selector.gd" type="Script" id=1]
[ext_resource path="res://addons/misc_utils/actions/composites/Sequence.gd" type="Script" id=2]
[ext_resource path="res://nodes/actions/MessageDialogAction.gd" type="Script" id=3]
[ext_resource path="res://sprites/portraits/eugene_angry_smile.png" type="Texture" id=4]
[ext_resource path="res://nodes/actions/Cutscene.gd" type="Script" id=5]
[ext_resource path="res://nodes/actions/CheckConditionAction.gd" type="Script" id=6]
[ext_resource path="res://mods/LivingWorld/actions/SwapPartnerAction.gd" type="Script" id=7]
[ext_resource path="res://nodes/actions/ConsumePartnerBGLevelsAction.gd" type="Script" id=8]
[ext_resource path="res://sfx/voices/meredith/meredith_awkward.wav" type="AudioStream" id=9]
[ext_resource path="res://sprites/portraits/meredith_shocked.png" type="Texture" id=10]
[ext_resource path="res://data/quests/partner_quests/EugeneQuest4.tscn" type="PackedScene" id=11]
[ext_resource path="res://cutscenes/eugene_quest/EugeneQuest4_Part1.tscn" type="PackedScene" id=12]
[ext_resource path="res://sprites/portraits/dog_happy.png" type="Texture" id=13]
[ext_resource path="res://sprites/portraits/viola_happy.png" type="Texture" id=14]
[ext_resource path="res://sfx/voices/viola/viola_motivated_1.wav" type="AudioStream" id=15]
[ext_resource path="res://sfx/voices/eugene/eugene_story_1.wav" type="AudioStream" id=16]
[ext_resource path="res://sfx/voices/felix/felix_thinking_1.wav" type="AudioStream" id=17]
[ext_resource path="res://sprites/portraits/felix.png" type="Texture" id=18]
[ext_resource path="res://sfx/voices/viola/viola_laugh_1.wav" type="AudioStream" id=19]
[ext_resource path="res://sfx/voices/dog/dog_pant.wav" type="AudioStream" id=20]
[ext_resource path="res://sprites/portraits/kayleigh_happy.png" type="Texture" id=21]
[ext_resource path="res://sfx/voices/kayleigh/kayleigh_motivated_1.wav" type="AudioStream" id=22]

[node name="Cutscene" type="Node"]
script = ExtResource( 5 )

[node name="SwapPartnerAction" type="Node" parent="."]
script = ExtResource( 7 )

[node name="Selector" type="Node" parent="."]
script = ExtResource( 1 )

[node name="CheckConditionAction" type="Node" parent="Selector"]
script = ExtResource( 6 )
require_partner_id = "eugene"
require_quest = ExtResource( 11 )
require_quest_state = 6

[node name="Cutscene" parent="Selector/CheckConditionAction" instance=ExtResource( 12 )]

[node name="Sequence" type="Node" parent="Selector"]
script = ExtResource( 2 )

[node name="CheckConditionAction" type="Node" parent="Selector/Sequence"]
script = ExtResource( 6 )
always_succeed = true
require_partner_id = "kayleigh"

[node name="Selector" type="Node" parent="Selector/Sequence/CheckConditionAction"]
script = ExtResource( 1 )

[node name="ConsumePartnerBGLevelsAction" type="Node" parent="Selector/Sequence/CheckConditionAction/Selector"]
script = ExtResource( 8 )

[node name="MessageDialogAction" type="Node" parent="Selector/Sequence/CheckConditionAction/Selector/ConsumePartnerBGLevelsAction"]
script = ExtResource( 3 )
portrait = ExtResource( 21 )
audio = ExtResource( 22 )
title = "KAYLEIGH_NAME"
messages = [ "PARTNER_LEVELUP_KAYLEIGH1" ]

[node name="MessageDialogAction2" type="Node" parent="Selector/Sequence/CheckConditionAction/Selector"]
script = ExtResource( 3 )
portrait = ExtResource( 21 )
audio = ExtResource( 22 )
title = "KAYLEIGH_NAME"
messages = [ "SWAP_PARTNER_KAYLEIGH1" ]

[node name="CheckConditionAction2" type="Node" parent="Selector/Sequence"]
script = ExtResource( 6 )
always_succeed = true
require_partner_id = "meredith"

[node name="Selector" type="Node" parent="Selector/Sequence/CheckConditionAction2"]
script = ExtResource( 1 )

[node name="ConsumePartnerBGLevelsAction" type="Node" parent="Selector/Sequence/CheckConditionAction2/Selector"]
script = ExtResource( 8 )

[node name="MessageDialogAction" type="Node" parent="Selector/Sequence/CheckConditionAction2/Selector/ConsumePartnerBGLevelsAction"]
script = ExtResource( 3 )
portrait = ExtResource( 10 )
audio = ExtResource( 9 )
title = "MEREDITH_NAME"
messages = [ "PARTNER_LEVELUP_MEREDITH1" ]

[node name="MessageDialogAction2" type="Node" parent="Selector/Sequence/CheckConditionAction2/Selector"]
script = ExtResource( 3 )
portrait = ExtResource( 10 )
audio = ExtResource( 9 )
title = "MEREDITH_NAME"
messages = [ "SWAP_PARTNER_MEREDITH1" ]

[node name="CheckConditionAction3" type="Node" parent="Selector/Sequence"]
script = ExtResource( 6 )
always_succeed = true
require_partner_id = "eugene"

[node name="Selector" type="Node" parent="Selector/Sequence/CheckConditionAction3"]
script = ExtResource( 1 )

[node name="ConsumePartnerBGLevelsAction" type="Node" parent="Selector/Sequence/CheckConditionAction3/Selector"]
script = ExtResource( 8 )

[node name="MessageDialogAction" type="Node" parent="Selector/Sequence/CheckConditionAction3/Selector/ConsumePartnerBGLevelsAction"]
script = ExtResource( 3 )
portrait = ExtResource( 4 )
audio = ExtResource( 16 )
title = "EUGENE_NAME"
messages = [ "PARTNER_LEVELUP_EUGENE1" ]

[node name="MessageDialogAction2" type="Node" parent="Selector/Sequence/CheckConditionAction3/Selector"]
script = ExtResource( 3 )
portrait = ExtResource( 4 )
audio = ExtResource( 16 )
title = "EUGENE_NAME"
messages = [ "SWAP_PARTNER_EUGENE1" ]

[node name="CheckConditionAction4" type="Node" parent="Selector/Sequence"]
script = ExtResource( 6 )
always_succeed = true
require_partner_id = "felix"

[node name="Selector" type="Node" parent="Selector/Sequence/CheckConditionAction4"]
script = ExtResource( 1 )

[node name="ConsumePartnerBGLevelsAction" type="Node" parent="Selector/Sequence/CheckConditionAction4/Selector"]
script = ExtResource( 8 )

[node name="MessageDialogAction" type="Node" parent="Selector/Sequence/CheckConditionAction4/Selector/ConsumePartnerBGLevelsAction"]
script = ExtResource( 3 )
portrait = ExtResource( 18 )
audio = ExtResource( 17 )
title = "FELIX_NAME"
messages = [ "PARTNER_LEVELUP_FELIX1" ]

[node name="MessageDialogAction2" type="Node" parent="Selector/Sequence/CheckConditionAction4/Selector"]
script = ExtResource( 3 )
portrait = ExtResource( 18 )
audio = ExtResource( 17 )
title = "FELIX_NAME"
messages = [ "SWAP_PARTNER_FELIX1" ]

[node name="CheckConditionAction5" type="Node" parent="Selector/Sequence"]
script = ExtResource( 6 )
always_succeed = true
require_partner_id = "viola"

[node name="Selector" type="Node" parent="Selector/Sequence/CheckConditionAction5"]
script = ExtResource( 1 )

[node name="ConsumePartnerBGLevelsAction" type="Node" parent="Selector/Sequence/CheckConditionAction5/Selector"]
script = ExtResource( 8 )

[node name="MessageDialogAction" type="Node" parent="Selector/Sequence/CheckConditionAction5/Selector/ConsumePartnerBGLevelsAction"]
script = ExtResource( 3 )
portrait = ExtResource( 14 )
audio = ExtResource( 19 )
title = "VIOLA_NAME"
messages = [ "PARTNER_LEVELUP_VIOLA1" ]

[node name="MessageDialogAction2" type="Node" parent="Selector/Sequence/CheckConditionAction5/Selector"]
script = ExtResource( 3 )
portrait = ExtResource( 14 )
audio = ExtResource( 15 )
title = "VIOLA_NAME"
messages = [ "SWAP_PARTNER_VIOLA1" ]

[node name="CheckConditionAction6" type="Node" parent="Selector/Sequence"]
script = ExtResource( 6 )
always_succeed = true
require_partner_id = "dog"

[node name="Selector" type="Node" parent="Selector/Sequence/CheckConditionAction6"]
script = ExtResource( 1 )

[node name="ConsumePartnerBGLevelsAction" type="Node" parent="Selector/Sequence/CheckConditionAction6/Selector"]
script = ExtResource( 8 )

[node name="MessageDialogAction" type="Node" parent="Selector/Sequence/CheckConditionAction6/Selector/ConsumePartnerBGLevelsAction"]
script = ExtResource( 3 )
audio = ExtResource( 20 )
messages = [ "PARTNER_LEVELUP_DOG1" ]

[node name="MessageDialogAction2" type="Node" parent="Selector/Sequence/CheckConditionAction6/Selector"]
script = ExtResource( 3 )
portrait = ExtResource( 13 )
audio = ExtResource( 20 )
title = "DOG_NAME"
messages = [ "SWAP_PARTNER_DOG1" ]
